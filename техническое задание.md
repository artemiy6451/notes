
# 2. Описание проекта
---
Проект состоит из следующих функиональных блоков:
	1. Регитсрация, аутентификация, и авторизация
	2. Перечень маршрутов и направлений экскурсий
	3. Наиболее популярные маршруты на текущий момент
	4. Покупка билета
	5. Отправка билета на почту
	
---
## 2.1 Типы пользователей 
Проект подразумевает три типа пользователей: гость, пользователь, администратор. Гость может просматривать доступные маршруты, цены на них, а так же дату и ближайшее место отправления, пользователь имеет все функции гостя и  возможность покупки билетов, администратор может проверять корректность билетов. 

---
## 2.2 Регистрация 
 Клиет, решивший купить билет, должен пройти регистрацию(если он впервые покупает билет) или авторицацию(если уже покупал билет ранее). При регистрации клиента должны быть запрошены следующие поля:
* email -  обязательное поле 
* ФИО - обязательное поле
* дата рождения - опциональное поле
* номер телефона - обязательное поле

---
## 2.3 Аутентификация 
Аутентификация клента осуществляется с помощью email и одноразового пароля(или ссылке), который прихоодит на эту почту.

---
## 2.4 Функционал гостя
Гость имеет полный доступ к базовым фунциям проекта, кроме покупки билетов таким как: 
* просмотр экскурсионных направлений и маршрутов
* выбор и просмотр стоимости маршрутов
* просмотр даты и места отправления
Так же гость должен разрешить сайту использовать геолокацию клиента, чтобы найти ближайшую точку отправления

---
## 2.5 Фунционал клиента
Для реализации покупки и проверки билета предлагается два варианта:
* Все возможности гостя, а так же право покупки билета. После покупки билета клиент на сайте получает одноразовый QR-код, отсканировав который открывается сслыка на сайт с подтверждением билета.
* Все возможности гостя, а так же право покупки билета. После покупки билета клиенту на почту и администратору поступает уведомление о покупки билета, а так же данные клиента и уникальнный 4-х значный код подтверждения.
Вне зависимости от выбора реализации билетной проверки пользователь может всегда зайти в личный кабинет на сайте и найти: 
* QR-код 
* 4-х значный уникальныый код подтверждения

---
## 2.6 Фунционал администратора
Функция "Администратор" назначается через консоль конкретному зарегистированному пользователю сайта.
* Администратор может отсканировать QR-код и тут же перейти на сайт подтверждения билета, доступ к которому имееет только администратор. После подтверждения поодлиннсти билета ссылка удаляется из базы и QR-код становится нерабочим. 
* Администратор имеет доступ к базе данных клиентов, приобревших билеты, а так же уникальным 4-х значным кодам. После успешной посадки клиента в автобус, администратор помечает билет клиента как "использованный", а 4-х значный уникальный код снова может использоваться при покупке билета.